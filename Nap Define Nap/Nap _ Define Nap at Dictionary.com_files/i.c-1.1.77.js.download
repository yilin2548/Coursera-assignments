/* LEGAL NOTICE: Thunderdome  1.1.77 (THE 'CODE'). COPYRIGHT 2017 IAC PUBLISHING LLC. ALL RIGHTS RESERVED. THIS CODE CONTAINS TRADE SECRETS OR OTHERWISE CONFIDENTIAL AND/OR PROPRIETARY INFORMATION THAT IS THE EXCLUSIVE INTELLECTUAL PROPERTY OF IAC PUBLISHING LLC AND IS PROTECTED BY COPYRIGHT, TRADE SECRET AND/OR OTHER STATE AND FEDERAL LAW.UNAUTHORIZED USE OF THIS CODE IS STRICTLY PROHIBITED.SEE http://bit.ly/1Y4XZ3X FOR FULL TERMS AND CONDITIONS. */
!function(e){function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var t={};return i.m=e,i.c=t,i.p="",i(0)}([function(e,i,t){function n(){R.info("callingExternalScript");var e=S.peripheralScripts||[];try{I._callScripts(e)}catch(i){R.error("callExternalScripts",i)}}function r(){R.info("processQue","processing",{"iacjs.que":v._clone(_.que)});for(var e=0;e<_.que.length;e++)typeof _.que[e].called===T&&(R.debug("processQue","iacjs.que",{"iacjs.que[i]":_.que[e]}),_.que[e].call(),_.que[e].called=!0)}function o(){if(!window.googletag||!v.isFn(window.googletag.pubads)||!v.isFn(window.googletag.pubads().setTargeting))return void R.error("window.googletag is not defined on the page");var e=_.pageTargeting||{};if(typeof _.pageTargeting===P&&typeof S.pageTargeting===P){v._each(S.pageTargeting,function(i,t,n){i?e[t]=i:R.warn("pageTargeting value not set for key",key)}),R.info({enhancedPageTargeting:e});for(var i in e)e.hasOwnProperty(i)&&!function(e,i){try{googletag.pubads().setTargeting(e,i)}catch(t){R.error(t)}}(i,e[i])}}function d(){try{for(var e in O){var i=O[e];if(typeof i.sizeMapping===y.objectType_function)if(0===i.sizeMapping.length)R.warn("current implementation sizeMapping in ad_config is deprecated: Please switch to newer implementation of sizeMapping");else{var t=E.defineSizeMapping(i.sizeMapping(E),i.sizes);v.isArray(t)&&t.length>0?(R.info("new size assigned :",JSON.stringify(t),"instead of ",JSON.stringify(i.sizes)),i.sizes=t):v.isArray(t)&&0===t.length&&(i.sizes=t,i.disabled=!0)}}}catch(n){R.error(n)}}function a(e,i){R.info("init","called",{timeout:e,adUnitCodeArr:i});var t=typeof e===T||null===e?_.bidderTimeout:e;if(!s())return void R.error("No adUnits configured. No bids requested.");if(setTimeout(w.executeCallback,t),R.info("init","parsing settings into internal vars"),i&&v.isArray(i))for(var n=0;n<i.length;n++){for(var r=0;r<_.adUnits.length;r++)_.adUnits[r].placement===i[n]&&(O=[_.adUnits[r]]);d(),j(),l(),c()}else O=_.adUnits,d(),j(),l(),c()}function s(){return!(!_.adUnits||0===_.adUnits.length)}function c(e){R.info("sortAndCallBids","called with",{sortFunc:e,pb_bidderMap:v._clone(L)});var i=Object.keys(L).map(function(e){return L[e]});typeof e===D&&i.sort(e),R.debug("sortAndCallBids","calling adapters with bids",{bidArray:i}),x.callBids(i)}function l(){R.info("prebid.js : "," loadPreBidders :: ","calling functions with pb_placements",{pb_placements:v._clone(O)});for(var e=0;e<O.length;e++){var i=O[e][y.JSON_MAPPING.PL_BIDS],t=O[e][y.JSON_MAPPING.PL_CODE],n=O[e][y.JSON_MAPPING.AD_CODE],r=O[e][y.JSON_MAPPING.PL_SIZE],o=O[e][y.JSON_MAPPING.AD_TARGETING],d=O[e][y.JSON_MAPPING.AD_UUID];u(t,n,r,o,i,d),w.addBidResponse(t)}for(e=0;e<U.length;e++)U[e].loadPreBid();w.setBidderMap(L)}function u(e,i,t,n,r,o){R.debug("storeBidRequestByBidder","called with",v._clone({placement:e,code:i,sizes:t,targeting:n,bids:r}));for(var d=0;d<r.length;d++){R.info("storeBidRequestByBidder",r[d]);var a=r[d];a.placement=e,a.code=i,a.sizes=t,a.targeting=n,a.pagetargeting=_.pageTargeting,a.ad_uuid=o,w.incrementBidCount();var s=r[d][y.JSON_MAPPING.BD_BIDDER],c=L[s];if(typeof c===T){var l={bidderCode:s,bids:[]};l.bids.push(a),L[s]=l}else c.bids.push(a)}R.debug("prebid.js : "," storeBidRequestByBidder :: "," current partnerBidsMap",{pb_bidderMap:v._clone(L)})}function p(e){var i={};return e&&0!==e.length&&(e.sort(function(e,i){return i.cpm-e.cpm}),i=e[0]),i.bid}function g(e,i,t){R.info("setGPTAsyncTargeting","called with",{code:e,slot:i,adUnitBids:t});var n=[];if(0!==t.bids.length)for(var r=0;r<t.bids.length;r++){var o=t.bids[r];if(o.alwaysUseBid){var d=o.adserverTargeting;for(var a in d)if(d.hasOwnProperty(a))try{R.info("Attempting to set key value for placement code: ",e," slot: ",{slot:i}," key: ",a," value: ",encodeURIComponent(d[a])),googletag.pubads().clearTargeting(a),i.setTargeting(a,encodeURIComponent(d[a]))}catch(s){R.error("Problem setting key value pairs in slot: ",s)}}else n.push({cpm:o.cpm,bid:o})}else v.logMessage("No bids eligble for adUnit code : "+e);if(0!==n.length){try{C.predict(e,t)}catch(s){R.error("Unable to run prediction: ",s)}var c=p(n),l=c.adserverTargeting;try{if(typeof l===y.objectType_object){var u={};typeof S.pageTargeting===P&&(u=S.pageTargeting),l[y.DEFAULT_BIDDER_META_DATA_KEY]=v.exportBidMeta(t,u)}}catch(s){R.error("Unable to create meta marker: ",s)}for(var a in l)if(l.hasOwnProperty(a))try{R.info("Attempting to set key value for placement code: ",e," slot: ",{slot:i}," key: ",a," value: ",encodeURIComponent(l[a])),i.setTargeting(a,encodeURIComponent(l[a]))}catch(s){R.error("Problem setting key value pairs in slot: ",s)}}}function f(e){var i={};return e?(i=w.pbBidResponseByPlacement[e],i?i:w.createEmptyBidResponseObj()):w.pbBidResponseByPlacement}function b(e){var i=[],t="",n=[],r={};if(e&&e.length>0){t=e[0]&&e[0].placement,z[t]=[];for(var o=0;o<e.length;o++){var d=e[o];r=h(d),d.alwaysUseBid&&r.adserverTargeting?z[r.adUnitCode].push(r.adserverTargeting):d.cpm&&d.cpm>0&&n.push({cpm:d.cpm,bid:d});try{var a=A.getLogger(y.SPL_LOGGER);typeof r.cpm!==y.objectType_undefined&&a.getLevel()>=3&&delete r.cpm}catch(s){R.error(s)}i.push(r)}}if(t&&0!==n.length){var c=p(n),l=c.adserverTargeting;z[t].push(l)}return i}function h(e){var i={};return e&&(i=v._clone(e),delete i.pbLg,delete i.pbMg,delete i.pbHg),i}function m(){R.info("prebid.js : ","resetBids called and bids are now reset"),w.clearAllBidResponses(),C.expungeCache(),L={}}window.iacjs=window.iacjs||{},window.iacjs.que=window.iacjs.que||[],window.iacjs.events=window.iacjs.events||{};var _=window.iacjs,y=t(1),v=t(2),w=t(3),x=t(8),B=t(11),I=t(21),S=t(7),A=t(4),C=t(6),E=t(23),R=A.getLogger("core"),D="function",T="undefined",P="object",N="string",U=[],O=[],L={},z={};_.bidderTimeout=_.bidderTimeout||3e3,R.info("iacjs.bidderTimeout",_.bidderTimeout),_.logging=_.logging||!1,_.logger=A,_.libLoaded=!0,_.adUnits=_.adUnits||[],_.cons=S,_.pageTargeting=_.pageTargeting||{},_.que.push=function(e){if(typeof e===D){R.debug("iacjs.que.push","cmd pushed into iacjs.que.push after iacjs load",{cmd:e});try{e.call()}catch(i){R.error("iacjs.que.push","Error processing command :",i)}}else R.error("iacjs.que.push","Commands written into iacjs.que.push must wrapped in a function")},_.getAdserverTargetingForAdUnitCodeStr=function(e){var i=_.getAdserverTargetingForAdUnitCode(e);return v.transformAdServerTargetingObj(i)},_.getAdserverTargetingForAdUnitCode=function(e){return _.getBidResponses(e),e?z[e]:z},_.getAdserverTargeting=function(){return _.getAdserverTargetingForAdUnitCode()},_.getBidResponses=function(e){var i={},t=[],n={};if(e)i=f(e),t=[],i&&i.bids&&(t=b(i.bids)),n={bids:t};else{i=f();for(var r in i)i.hasOwnProperty(r)&&(i&&i[r]&&i[r].bids&&(t=b(i[r].bids)),n[r]={bids:t})}return n},_.setTargetingForAdUnitsGPTAsync=function(e){if(!window.googletag||!v.isFn(window.googletag.pubads)||!v.isFn(window.googletag.pubads().getSlots))return void R.error("cannot setSlots because either googletag is missing from the window context or pubads.setSlots is not yet defined");var i=e;typeof e===N?i=[e]:typeof e===P&&(i=e);var t={},n=0;if(i)for(n=0;n<i.length;n++)for(var r=i[n],d=window.googletag.pubads().getSlots(),a=0;a<d.length;a++)d[a].getSlotElementId()===r&&(t=f(r),g(r,d[a],t));else{var d=window.googletag.pubads().getSlots();for(n=0;n<d.length;n++){var s=d[n].getSlotElementId();s&&(t=f(s),g(s,d[n],t))}}o()},_.setTargetingForGPTAsync=function(e){if(e){var i=e.adUnitCodes;i?_.setTargetingForAdUnitsGPTAsync(i):R.error("No AdUnitCodes defined for refresh")}else _.setTargetingForAdUnitsGPTAsync()},_.allBidsAvailable=function(){return w.allBidsBack()},_.getBidsByBidderCode=function(e){var i=A.getLogger(y.SPL_LOGGER),t=[];return i.getLevel()<3&&(t=w.pbBidResponseByBidders[e]||[]),t},_.requestBidsForAdUnit=function(e){m(),a(BIDDER_TIMEOUT,e)},_.requestBidsForAdUnits=function(e){if(!e||e.constructor!==Array)return void v.logError("prebid.js : ","requestBidsForAdUnits ::: must pass an array of adUnits");m();var i=_.adUnits.slice(0);_.adUnits=e,a(),_.adUnits=i},_.removeAdUnit=function(e){if(e)for(var i=0;i<_.adUnits.length;i++)_.adUnits[i].code===e&&(_.adUnits=_.adUnits.splice(i,1))},_.requestBids=function(e){if(R.info("prebid.js : ","requestBids ::: called with ",{requestObj:e}),e){var i=e.adUnitCodes,t=e.adUnits,n=e.timeout,r=e.bidsBackHandler,o=_.adUnits.slice(0);R.debug("prebid.js : ","requestBids ::: variables in space ",{adUnitCodes:i,adUnits:t,timeout:n,bidsBackHandler:r,adUnitBackup:o}),typeof r===D&&(R.info("prebid.js :","iacjs.requestBids :::","registering a addOneTimeCallback",{bidsBackHandler:r}),w.addOneTimeCallback(r)),i&&v.isArray(i)?(R.info("prebid.js :","iacjs.requestBids :::","bids are being called with adUnitCodes",i),m(),a(n,i)):t&&v.isArray(t)?(R.info("prebid.js :","iacjs.requestBids :::","bids are being called with adUnits",t),m(),_.adUnits=t,a(n)):(R.info("prebid.js :","iacjs.requestBids :::","bids are being called all adUnits",_.adUnits),m(),a(n)),_.adUnits=o}else R.info("requesting all bids"),m(),a()};var j=function(){R.info("prebid.js : "," bidderConfiguration ::: Adding ad units");var e=window.bidder_config_override||S.placement_config||{},i=O;for(var t in i){var n=i[t][y.JSON_MAPPING.AD_UUID];if(R.info("prebid.js : "," bidderConfiguration loop:::",{ad_uuid:n,placement_ad_uuid:e[n],placement_config:v._clone(e)}),i[t][y.JSON_MAPPING.PL_BIDS]=[],"boolean"==typeof i[t].disabled&&i[t].disabled)R.info("Bidders disabled for placement",i[t]);else{if(typeof n===T){var r="ad_uuid must be defined on every placement";R.error(r),console.log(r)}else typeof n===N&&typeof e[n]===P&&(i[t][y.JSON_MAPPING.PL_BIDS]=e[n]);i[t][y.JSON_MAPPING.PL_BIDS].push({bidder:y.DEFAULT_BIDDER}),R.info(JSON.stringify(i[t].placement),JSON.stringify(i[t][y.JSON_MAPPING.PL_BIDS]))}}};_.addAdUnits=function(e){R.info("prebid.js : ","iacjs.addAdUnits ::: Adding ad units"),R.debug("prebid.js : ","iacjs.addAdUnits ::: Adding ad units of type",typeof e,e),v.isArray(e)?_.adUnits.push.apply(_.adUnits,e):typeof e===P?_.adUnits.push(e):R.error("prebid.js : ","iacjs.adUnits ::: Unknown adUnitArr format"),R.debug("prebid.js : ","iacjs.addAdUnits :::",_.adUnits)},_.addOutOfPageAdUnits=function(e){},_.addCallback=function(e,i){R.info("prebid.js : ","addCallback ::: ",{eventStr:e,func:i});var t=null;return e&&i&&typeof i===D?(t=v.getUniqueIdentifierStr,w.addCallback(t,i,e),t):(R.error("prebid.js : ","addCallback ::: ","error registering callback. Check method signature"),t)},_.registerBidAdapter=function(e,i){try{x.registerBidAdapter(e(),i)}catch(t){v.logError("Error registering bidder adapter : "+t.message)}},_.createBid=function(e){return B.createBid(e)},_.addBidResponse=function(e,i){w.addBidResponse(e,i)},n(),r()},function(e,i){e.exports={JSON_MAPPING:{PL_CODE:"placement",AD_CODE:"code",AD_TARGETING:"targeting",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard",AD_UUID:"ad_uuid"},DEBUG_MODE:"img_debug",STATUS:{GOOD:"good",TIMEOUT:"timed out"},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",SLOT_RENDER_ENDED:"slotRenderEnded"}},DEFAULT_BIDDER:"in",DEFAULT_PRICE_PREDICTOR_KEY:"hv",DEFAULT_BIDDER_META_DATA_KEY:"hm",SPL_LOGGER:"spc",objectType_function:"function",objectType_undefined:"undefined",objectType_object:"object",objectType_string:"string",objectType_number:"number",objectType_boolean:"boolean",ENC:{EC:"4ba17b5",EF:"1d",EB:23},L:{I:"INITIALIZED",A:"ADDING BID TO BID MANAGER",C:"CALLBACK",B:"CALLING FOR BIDS",U:"UNKNOWN BID VALUE",RC:"RESPONSE COMPLETE",R:"RESETTING BIDS",E:"EXPANDING BIDS"},BD_CONFIG:{A:{S:"b0di41",E:"b0di28"}},SLOT_SIZES:["728x90","300x250","320x50","160x600"],UNKNOWN:"un",SIZE_MAPPER:{"160x600":1,"300x100":2,"300x250":3,"300x600":4,"320x50":5,"320x100":6,"320x250":7,"320x480":8,"450x50":9,"468x60":10,"480x320":11,"500x600":12,"533x355":13,"560x560":14,"728x90":15,"728x91":16,"768x1024":17,"800x600":18,"970x66":19,"970x90":20,"970x167":21,"970x250":22,"300x50":23}}},function(e,i,t){function n(){return y()+Math.random().toString(16).substr(2)}function r(){return window.console&&window.console.log}var o=t(1),d="object",a="string",s="number",c=!1,l=5,u=20,p=30,g="Array",f="String",b="Function",h="number",m=Object.prototype.toString,_=Object.prototype.hasOwnProperty;Array.prototype.slice;i.replaceTokenInString=function(e,i,t){return this._each(i,function(i,n){i=void 0===i?"":i;var r=t+n.toUpperCase()+t,o=new RegExp(r,"g");e=e.replace(o,i)}),e};var y=function(){var e=0;return function(){return e++,e}}();i.getUniqueIdentifierStr=n,i.getBidIdParamater=function(e,i){return i&&i[e]?i[e]:""},i.tryAppendQueryString=function(e,i,t){return t?e+=i+"="+encodeURIComponent(t)+"&":e},i.parseQueryStringParameters=function(e){var i="";for(var t in e)e.hasOwnProperty(t)&&(i+=t+"="+encodeURIComponent(e[t])+"&");return i},i.transformAdServerTargetingObj=function(e){var i="";if(!e)return"";for(var t in e)e.hasOwnProperty(t)&&(i+=t+"="+encodeURIComponent(e[t])+"&");return i},i.parseSizesInput=function(e){var i=[];if(typeof e===a){var t=e.split(","),n=/^(\d)+x(\d)+$/i;if(t)for(var r in t)t.hasOwnProperty(r)&&t[r].match(n)&&i.push(t[r])}else if(typeof e===d){var o=e.length;if(o>0)if(2===o&&typeof e[0]===s&&typeof e[1]===s)i.push(this.parseGPTSingleSizeArray(e));else for(var c=0;c<o;c++)i.push(this.parseGPTSingleSizeArray(e[c]))}return i},i.parseSizesInputAppNexus=function(e){var i,t=this.parseSizeInput.call(e),n=t.length;if(n>0&&(i="size="+t[0],n>1)){i+="&promo_sizes=";for(var r=1;r<n;r++)i+=t[r]+=",";i&&","===i.charAt(i.length-1)&&(i=i.slice(0,i.length-1))}return i},i.parseGPTSingleSizeArray=function(e){if(this.isArray(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e[0]+"x"+e[1]},i.getTopWindowUrl=function(){try{return window.top.location.href}catch(e){return window.location.href}},i.logMessage=function(e){w()&&r()&&console.log("MESSAGE: "+e)},i.hasConsoleLogger=r;var v=function(e){return e?window.console.error?"error":"log":""}(r()),w=function(){return iacjs.logging===!1&&c===!1&&(iacjs.logging="TRUE"===x(o.DEBUG_MODE).toUpperCase(),c=!0),!!iacjs.logging};i.debugTurnedOn=w,i.logError=function(e,i,t){var n=i||"ERROR";w()&&r()&&console[v].call(console,n+": "+e,t||"")},i.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=n(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:self",e.style="display:none",e};var x=function(e){var i="[\\?&]"+e+"=([^&#]*)",t=new RegExp(i),n=t.exec(window.location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))};i.getPriceBucketString=function(e){var i=e.cpm,t="",n="",r="",o="",d=this.enc(0),a=0,s={low:t,med:n,high:r,act:o,enc:d};try{a=parseFloat(i),a&&(a>l?s.low=l.toFixed(2):s.low=(Math.floor(2*i)/2).toFixed(2),a>u?s.med=u.toFixed(2):s.med=(Math.floor(10*i)/10).toFixed(2),a>p?s.high=p.toFixed(2):s.high=(Math.floor(100*i)/100).toFixed(2),s.act=(Math.floor(100*i)/100).toFixed(2),s.enc=this.enc(s.high))}catch(c){this.logError("Exception parsing CPM :"+c.message)}return s},i.hasValidBidRequest=function(e,i,t){for(var n=0;n<i.length;n++){var r=!1;if(this._each(e,function(e,t){t===i[n]&&(r=!0)}),!r)return this.logError("Params are missing for bid request. One of these required paramaters are missing: "+i,t),!1}return!0},i.addEventHandler=function(e,i,t){e.addEventListener?e.addEventListener(i,t,!0):e.attachEvent&&e.attachEvent("on"+i,t)},i.isA=function(e,i){return m.call(e)==="[object "+i+"]"},i.isFn=function(e){return this.isA(e,b)},i.isStr=function(e){return this.isA(e,f)},i.isArray=function(e){return this.isA(e,g)},i.isNumber=function(e){return typeof e===h},i.isEmpty=function(e){if(!e)return!0;if(this.isArray(e)||this.isStr(e))return!(e.length>0);for(var i in e)if(_.call(e,i))return!1;return!0},i._indexOf=function(e,i){return this.isEmpty(e)?-1:this.isFn(e.indexOf)?e.indexOf(i):(e.prototype.indexOf=function(e,i){var i=i||0;if(i>this.length)return-1;for(var t=0;t<this.length;t++){if(this[t]==e&&i<=t)return t;if(this[t]==e&&i>t)return-1}return-1},e.indexOf(i))},i._each=function(e,i){if(!this.isEmpty(e)){if(this.isFn(e.forEach))return e.forEach(i);var t=0,n=e.length;if(n>0)for(;t<n;t++)i(e[t],t,e);else for(t in e)_.call(e,t)&&i(e[t],t,e)}},i._filter=function(e,i){if(!this.isEmpty(e)){if(this.isFn(e.filter))return e.filter(i);var t=[];for(k in e)_.call(e,k)&&i(e[k])&&t.push(e[k]);return t}},i._clone=function(e){return JSON.parse(JSON.stringify(e))},i.dyc=function(e,i,t){var n=10,r=parseInt(o.ENC.EC,o.ENC.EB),d=parseInt(o.ENC.EF,o.ENC.EB);return(parseInt(i,d)-r)/n-(e-1)*((parseInt(t,d)-r)/n)},i.enc=function(e,i){var t=e/1*100,n=parseInt(o.ENC.EC,o.ENC.EB)+t,r=n.toString(o.ENC.EB);return i&&(r=n.toString(parseInt(o.ENC.EF,o.ENC.EB))),r},i.dec=function(e){return parseInt(e,o.ENC.EB)-parseInt(o.ENC.EC,o.ENC.EB)},i.ecpm=function(e,i){return(100*e.high+parseInt(i.adId,16)).toString(36)},i.exportBidMeta=function(e,i){if(typeof e!==o.objectType_object||typeof e.bids!==o.objectType_object||typeof e.allBidsAvailable!==o.objectType_boolean||typeof e.bidsReceivedCount!==o.objectType_number)return"Error";var t={},n={},r=e.allBidsAvailable,d=e.bidsReceivedCount,a=e.bids;t.a=r,t.c=d;var s="";this._each(a,function(e,i,t){var r=e.getPerf(),o=e.getRepr();s+=o+"^",n[r.n]=r.t}),t.b=s;var c=[];return this._each(n,function(e,i,t){c+=i+"|"+e+"^"}),i.perf=c,JSON.stringify(t)},i.inferSlotSize=function(e){var t=o.SLOT_SIZES,n=this.parseSizesInput(e);if(n.length>1){var r=this._filter(n,function(e){return i._indexOf(t,e)!=-1})||[];return 0===r.length?o.UNKNOWN:r.slice(0,1).toString()}return 1===n.length?n.slice(0,1).toString():o.UNKNOWN}},function(e,i,t){function n(e,i){g.debug("bidmanager : "," getKeyValueTargetingPairs  ::: called withs ",{bidderCode:e,custBidObj:i});var t={},n=iacjs.bidderSettings||{};return e&&i&&n&&n[e]?(r(t,n[e],i),i.alwaysUseBid=n[e].alwaysUseBid):D[e]?(r(t,D[e],i),i.alwaysUseBid=D[e].alwaysUseBid):i&&n&&(n[c.JSON_MAPPING.BD_SETTING_STANDARD]||(n[c.JSON_MAPPING.BD_SETTING_STANDARD]={adserverTargeting:[{key:"hn",val:function(e){return e.bidderCode}},{key:"hr",val:function(e){return e.enc}},{key:"ht",val:function(e){return l.replaceTokenInString(e.targeting,e,"%%")}},{key:"hz",val:function(e){return e.getSizeCode()}}]}),r(t,n[c.JSON_MAPPING.BD_SETTING_STANDARD],i)),t}function r(e,i,t){g.debug("bidmanager : "," setKeys ::: called with parameters",{keyValues:l._clone(e),bidderSettings:l._clone(i),custBidObj:l._clone(t)});var n=i[c.JSON_MAPPING.ADSERVER_TARGETING];return t.size=t.getSize(),l._each(n,function(i){var n=i.key,r=i.val;if(l.isFn(r))try{e[n]=r(t)}catch(o){l.logError("bidmanager","ERROR",o)}else e[n]=r}),e}function o(e){var i=[e];d(h,i)}function d(e,i){var t;if(l.isArray(e))for(t=0;t<e.length;t++){var n=e[t];a(n,i)}else a(e,i)}function a(e,i){if("function"==typeof e)try{e.apply(iacjs,i)}catch(t){g.error("Error executing callback function: "+t.message)}}function s(e){g.info("checkBidsBackByAdUnit",{placement:e});for(var i=0;i<iacjs.adUnits.length;i++){var t=iacjs.adUnits[i];if(t.placement===e){var n=S[e].bidsReceivedCount;n===t.bids.length&&(o(e),g.info("calling Prediction function",{placement:e,pbBidResponseByPlacement:w[e]}),p.predict(e,w[e]))}}}var c=t(1),l=t(2),u=t(4),p=t(6),g=u.getLogger("bidmanager"),f="function",b="undefined",h=[],m=[],_=null,y={},v={};i.pbCallbackMap=v;var w={};i.pbBidResponseByPlacement=w;var x={};i._adResponsesByBidderId=x;var B=0;i.bidRequestCount=B;var I=0;i.bidResponseRecievedCount=I;var S={};i.bidResponseCountByPlacement=S;var A={};i.bidRequestCountByPlacement=A;var C={};i.pbBidResponseByBidders=C;var E=!1,R=!1,D={},T={};i.bidResponseComplete=function(e,i){g.info("bidmanager : "," bidResponseComplete  ::: for bidder ",i," and placement ",e);try{var t;S[e]?(t=S[e],t.bidsReceivedCount++,t.bids.push(i)):(t=this.createEmptyBidResponseObj(),t.bids.push(i),t.bidsReceivedCount++,S[e]=t),I++,g.info("bidmanager : "," bidResponseComplete  ::: bids request count :",B," and response count : ",I),g.info("bidmanager : "," bidResponseComplete  ::: checking if all bids are in as well as check if bids are in for",e),this.checkIfAllBidsAreIn(e)}catch(n){g.error("bidmanager",n)}},i.getPlacementIdByCBIdentifer=function(e){return v[e]},i.incrementBidCount=function(){g.debug("bidmanager : "," incrementBidCount ::: count before increment",B),B++},i.getBidResponseByAdUnit=function(e){return g.debug("bidmanager : "," getBidResponseByAdUnit ::: getResponse",{adUnitCode:e,pbBidResponseByPlacement:w}),w},i.clearAllBidResponses=function(e){g.info("bidmanager : "," clearAllBidResponses  ::: clearing bid response and callback flags"),E=!1,R=!1,B=0,I=0,m.called=!1;for(var i in this.pbBidResponseByPlacement)delete this.pbBidResponseByPlacement[i];for(var i in this.bidResponseCountByPlacement)delete this.bidResponseCountByPlacement[i]},i.addBidResponse=function(e,i){var t=i?"placement & bid :"+i.bidderCode:"placement";g.debug("bidmanager : "," addBidResponse  ::: called withs ",t,{placement:e,bid:i});var r={};if(i){i.requestTimestamp=T[i.bidderCode],i.responseTimestamp=(new Date).getTime(),i.timeToRespond=i.responseTimestamp-i.requestTimestamp,2===i.getStatusCode()&&(i.cpm=0);var o=l.getPriceBucketString(i);try{var d=u.getLogger(c.SPL_LOGGER);d.getLevel()<3&&(i.pbLg=o.low,i.pbMg=o.med,i.pbHg=o.high)}catch(a){g.error(a)}i.enc=o.enc,i.placement=e,i.bidder=i.bidderCode,C[i.bidderCode]=C[i.bidderCode]||[],C[i.bidderCode].push(i);var s={};i.bidderCode&&0!==i.cpm&&(s=n(i.bidderCode,i),i.adserverTargeting=s),i.adId&&(x[i.adId]=i),e&&w[e]?(r=w[e],typeof r.bids!==b&&(r.bids.push(i),r.bidsReceivedCount++)):l.logError("Internal error in bidmanager.addBidResponse. Params: "+e+" & "+i)}else r=this.createEmptyBidResponseObj();g.debug("bidmanager : "," addBidResponse  ::: pbBidResponseByPlacement",{pbBidResponseByPlacement:l._clone(w)}),w[e]=r},i.createEmptyBidResponseObj=function(){return{bids:[],allBidsAvailable:!1,bidsReceivedCount:0}},i.registerDefaultBidderSetting=function(e,i){D[e]=i},i.registerBidRequestTime=function(e,i){T[e]=i},i.executeCallback=function(){if(typeof iacjs.registerBidCallbackHandler===f&&!R)try{iacjs.registerBidCallbackHandler(),R=!0}catch(e){R=!0,l.logError("Exception trying to execute callback handler registered : "+e.message)}if(m.called!==!0){var i=[];d(m,i),m.called=!0}if(_){var i=[],t=iacjs.getBidResponses();i.push(t),d(_,i),_=null}},i.allBidsBack=function(){return E},i.setBidderMap=function(e){y=e},i.checkIfAllBidsAreIn=function(e){g.info("bidmanager : "," checkIfAllBidsAreIn  ::: ",e),0!==B&&B===I&&(E=!0),s(e),E&&(g.info("bidmanager : "," checkIfAllBidsAreIn  ::: _allBidsAvailable",E),this.executeCallback())},i.addOneTimeCallback=function(e){_=e},i.addCallback=function(e,i,t){i.id=e,c.CB.TYPE.ALL_BIDS_BACK===t?m.push(i):c.CB.TYPE.AD_UNIT_BIDS_BACK===t?h.push(i):c.CB.TYPE.SLOT_RENDER_ENDED==t&&(window.iacjs.events[c.CB.TYPE.SLOT_RENDER_ENDED]=i)}},function(e,i,t){var n=t(5),r=t(1),o={};i.getLogger=function(e){var i;return typeof o[e]===r.objectType_undefined?(i=n.getLogger(e),o[e]=i):i=o[e],i}},function(e,i,t){var n,r;!function(o,d){"use strict";n=d,r="function"==typeof n?n.call(i,t,i,e):n,!(void 0!==r&&(e.exports=r))}(this,function(){"use strict";function e(e){return typeof console!==a&&(void 0!==console[e]?i(console,e):void 0!==console.log?i(console,"log"):d)}function i(e,i){var t=e[i];if("function"==typeof t.bind)return t.bind(e);try{return Function.prototype.bind.call(t,e)}catch(n){return function(){return Function.prototype.apply.apply(t,[e,arguments])}}}function t(e,i,t){return function(){typeof console!==a&&(n.call(this,i,t),this[e].apply(this,arguments))}}function n(e,i){for(var t=0;t<s.length;t++){var n=s[t];this[n]=t<e?d:this.methodFactory(n,e,i)}}function r(i,n,r){return e(i)||t.apply(this,arguments)}function o(e,i,t){function o(e){var i=(s[e]||"silent").toUpperCase();try{return void(window.localStorage[u]=i)}catch(t){}try{window.document.cookie=encodeURIComponent(u)+"="+i+";"}catch(t){}}function d(){var e;try{e=window.localStorage[u]}catch(i){}if(typeof e===a)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(u)+"=");n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(i){}return void 0===l.levels[e]&&(e=void 0),e}var c,l=this,u="loglevel";e&&(u+=":"+e),l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=t||r,l.getLevel=function(){return c},l.setLevel=function(i,t){if("string"==typeof i&&void 0!==l.levels[i.toUpperCase()]&&(i=l.levels[i.toUpperCase()]),!("number"==typeof i&&i>=0&&i<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+i;if(c=i,t!==!1&&o(i),n.call(l,i,e),typeof console===a&&i<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(e){d()||l.setLevel(e,!1)},l.enableAll=function(e){l.setLevel(l.levels.TRACE,e)},l.disableAll=function(e){l.setLevel(l.levels.SILENT,e)};var p=d();null==p&&(p=null==i?"WARN":i),l.setLevel(p,!1)}var d=function(){},a="undefined",s=["trace","debug","info","warn","error"],c=new o,l={};c.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var i=l[e];return i||(i=l[e]=new o(e,c.getLevel(),c.methodFactory)),i};var u=typeof window!==a?window.log:void 0;return c.noConflict=function(){return typeof window!==a&&window.log===c&&(window.log=u),c},c})},function(e,i,t){function n(e,i){var t=e%i;return e-t+i}function r(e){var i=0,t=0,r={enc:0};return e&&(i=parseFloat(e),t=i>u?u.toFixed(2):i>p?(n(100*e,100)/100).toFixed(2):(n(100*e,50)/100).toFixed(2)),r.enc=a.enc(t,!0),r.enc}function o(e){var i={};return e&&0!==e.length&&(e.sort(function(e,i){return i.cpm-e.cpm}),i=e[0]),i}var d=t(1),a=t(2),s=t(4),c=s.getLogger("model"),l=t(7).yieldConfig,u=30,p=15,g={};e.exports={predict:function(e,i){c.info({bidResponseObject:i,predictFunction:!0});var t=i.bids,n=o(t);return c.info({winningBid:n}),typeof g[e]===d.objectType_string&&typeof n[d.JSON_MAPPING.ADSERVER_TARGETING]==d.objectType_object?void(typeof n[d.JSON_MAPPING.ADSERVER_TARGETING][d.DEFAULT_PRICE_PREDICTOR_KEY]===d.objectType_undefined&&(c.info("running fallback predictions"),n[d.JSON_MAPPING.ADSERVER_TARGETING][d.DEFAULT_PRICE_PREDICTOR_KEY]=g[e])):void(typeof n===d.objectType_object&&(c.info("running predictions"),g[e]=r(n.cpm*l.adx_markup),typeof n[d.JSON_MAPPING.ADSERVER_TARGETING]==d.objectType_object&&(n[d.JSON_MAPPING.ADSERVER_TARGETING][d.DEFAULT_PRICE_PREDICTOR_KEY]=g[e])))},expungeCache:function(){c.info("beginning cache expunging",g),g={},c.info("completed cache expunging",g)}}},function(e,i){i.placement_config={"728x90_top":[{bidder:"zm"},{bidder:"em"},{bidder:"ox"},{bidder:"ix",params:{placementSiteId:177356}},{bidder:"al"},{bidder:"pm"},{bidder:"yb"}],"728x90_bot":[{bidder:"zm"},{bidder:"em"},{bidder:"ox"},{bidder:"ix",params:{placementSiteId:177357}},{bidder:"al"},{bidder:"pm"},{bidder:"yb"}],"300x250_top":[{bidder:"zm"},{bidder:"em"},{bidder:"ox"},{bidder:"ix",params:{placementSiteId:177358}},{bidder:"al"},{bidder:"yb"},{bidder:"pm"}],"300x250_mid":[{bidder:"zm"},{bidder:"em"},{bidder:"ox"},{bidder:"ix",params:{placementSiteId:177359}},{bidder:"al"},{bidder:"pm"},{bidder:"yb"}],"320x50_top":[{bidder:"zm"},{bidder:"em"},{bidder:"ox"},{bidder:"ix",params:{placementSiteId:177360}},{bidder:"al"},{bidder:"yb"}],"320x50_top_mw":[{bidder:"zm"},{bidder:"em"},{bidder:"ox"},{bidder:"ix",params:{placementSiteId:177360}},{bidder:"al"},{bidder:"yb"}],"300x250_top_mw":[{bidder:"zm"},{bidder:"em"},{bidder:"ox"},{bidder:"ix",params:{placementSiteId:188945}},{bidder:"al"},{bidder:"yb"}],"300x250_mid_mw":[{bidder:"zm"},{bidder:"em"},{bidder:"ox"},{bidder:"ix",params:{placementSiteId:188946}},{bidder:"al"},{bidder:"yb"}],"320x250_bot":[{bidder:"zm"},{bidder:"em"},{bidder:"ox"},{bidder:"ix",params:{placementSiteId:177362}},{bidder:"al"},{bidder:"yb"}],"300x250_bot_mw":[{bidder:"zm"},{bidder:"em"},{bidder:"ox"},{bidder:"ix",params:{placementSiteId:177362}},{bidder:"al"},{bidder:"yb"}],"300x250_bot":[{bidder:"zm"},{bidder:"em"},{bidder:"ox"},{bidder:"ix",params:{placementSiteId:177362}},{bidder:"al"},{bidder:"yb"},{bidder:"pm"}],"320x50_bot":[{bidder:"zm"},{bidder:"em"},{bidder:"ox"},{bidder:"ix",params:{placementSiteId:177362}},{bidder:"al"},{bidder:"yb"}]},i.pageTargeting={evince:"ad"},i.yieldConfig={inhouse_bid_floor:1,adx_markup:1.15}},function(e,i,t){var n=t(9),r=t(1),o=t(10),d=t(13),a=t(14),s=t(15),c=t(16),l=t(17),u=t(19),p=t(20),g=t(5),f=(g.getLogger("adaptermanager"),{});i.callBids=function(e){n.callBids(e,f)},i.registerBidAdapter=function(e,i){n.registerBidAdapter(e,i,f)},i.getBidRegistry=function(){return f};var b={scriptUrl:"//ask-d.openx.net/w/1.0/jstag?nc=%%OXIDENTIFIER%%",adUnits:{"default":"23219321-dictionary"}},h={scriptUrl:"//c.amazon-adsystem.com/aax2/amzn_ads.js",propertyId:"3067",timeout:2e3},m={scriptUrl:"//ads.rubiconproject.com/header/%%ACCOUNTID%%.js",accountID:"10952"},_={scriptUrl:"//ads.pubmatic.com/AdServer/js/gshowad.js",accountID:"103207"},y={siteID:177356,embedMode:0,timeout:300},v={scriptUrl:"//vlibs.advertising.com/one-publishers-api/PubTag/pubtaglib-0.x.x.js",bidRequestConfig:{server:"adserver.adtech.advertising.com",network:"9547.1",bidKey:"aolbid",bidResponseTimeout:500,adjustment:12,formatCpmToDecimal:!0,roundingConfig:[{from:0,to:999,roundFunction:"tenCentsRound"},{from:1e3,to:-1,roundValue:1e3}]},bidfloor:1},w={scriptUrl:"//cdn.yldbt.com/js/yieldbot.intent.js",psn:{"iac.dict.dictry.dw":"fb80","iac.dict.dictry.mw":"641c","default":"fb80"}};this.registerBidAdapter(o(h),"zm"),this.registerBidAdapter(d(m),"em"),this.registerBidAdapter(a(b),"ox"),this.registerBidAdapter(s(_),"pm"),this.registerBidAdapter(c(y),"ix"),this.registerBidAdapter(u(v),"al"),this.registerBidAdapter(l(),r.DEFAULT_BIDDER),this.registerBidAdapter(p(w),"yb")},function(e,i,t){var n=t(3),r=t(2),o=t(1),d=t(4),a=d.getLogger("adaptermanagerhelper");i.callBids=function(e,i){a.info("adaptermanagerhelper : "," callBids :: ","calling functions with",{bidderArr:r._clone(e),_bidderRegistry:r._clone(i)});for(var t=0;t<e.length;t++){var o=e[t];if(o.bidderCode&&i[o.bidderCode]){a.info("adaptermanagerhelper : ","callBids :: ","CALLING BIDDER ",o.bidderCode);var d=i[o.bidderCode];d.defaultBidderSettings&&(a.info("adaptermanagerhelper : ","callBids :: "," registering default Bidder Settings ",o.bidderCode,{bidderCode:o.bidderCode,defaultBidderSettings:d.defaultBidderSettings}),n.registerDefaultBidderSetting(o.bidderCode,d.defaultBidderSettings));var s=(new Date).getTime();n.registerBidRequestTime(o.bidderCode,s),d.resetBids(),d.callBids(o),a.debug("adaptermanagerhelper : ","callBids :: ","current bidder object",{bidderCode:o.bidderCode,currentBidder:d})}}},i.registerBidAdapter=function(e,i,t){a.debug("adaptermanagerhelper : "," registerBidAdapter  :: registering bidder ",{bidderCode:i,bidAdaptor:e}),e&&i?typeof e.callBids===o.objectType_function&&typeof e.resetBids===o.objectType_function?t[i]=e:a.error("Bidder adaptor error for bidder code: "+i+"bidder must implement a callBids() & resetBids()  function"):a.error("bidAdaptor or bidderCode not specified"),a.debug("adaptermanagerhelper : "," registerBidAdapter  ::: _bidderRegistry ",{_bidderRegistry:r._clone(t)})}},function(e,i,t){var n=t(1),r=t(2),o=t(11),d=t(3),a=t(12),s=t(4),c=s.getLogger("amazon"),l="object",u=function(e){function i(e){y=e.bids||[],c.info(n.L.B,{bids:y}),h=e.bidderCode,g=v.scriptUrl,f=v.propertyId,m=n.BD_CONFIG.A.S,_=n.BD_CONFIG.A.E,b=v.timeout,window.amznads?s():u()}function t(e){r._each(y,function(i){var t=i.placement;r._each(r.parseSizesInput(i.sizes),function(a){var s,u=B[a]||"";if(typeof u===l){var p=r._filter(e,function(e){return u.exec(e)})||[];if(1==p.length){var g=p.join("");s=o.createBid(1),s.bidderCode=h,s.code=i.code;try{var f=w.exec(g).pop();s.pid=f,s.cpm=r.dyc(f,m,_)}catch(b){
s.cpm=0,s.pid=0,c.error(n.L.U,b)}s.width=a.split("x")[0],s.height=a.split("x")[1],s.targeting=x,d.addBidResponse(t,s),e.splice(e.indexOf(g),1),c.debug(n.L.C,n.L.A,s.getStatusCode(),{bid:s})}else 0==p.length?(s=o.createBid(2),s.bidderCode=h,s.code=i.code,s.width=a.split("x")[0],s.height=a.split("x")[1],s.targeting=x,d.addBidResponse(t,s),c.debug(n.L.C,n.L.A,s.getStatusCode(),{bid:s})):c.warn(n.L.C,"too many bids to work with")}}),c.info(n.L.RC,t),d.bidResponseComplete(t,h)})}function s(){try{amznads.getDisplayAdsCallback(f,function(){var e=amznads.getTokens()||[];c.info(n.L.C,{amznads:e}),t(e)},b)}catch(e){}}function u(){c.info(n.L.C,{scriptUrl:g}),g&&a.loadAsyncScript({src:g,onload:s})}function p(){c.info(n.L.R),y=[]}c.info(n.L.I);var g,f,b,h,m,_,y,v=e||{},w=RegExp(/[am][^p]*p(.*)/),x="%%SIZE%%|%%PID%%",B={"300x600":/a3x.*/g,"300x250":/a300x.*/g,"970x250":/a9x.*/g,"728x90":/a7.*/g,"320x50":/m3.*/g};return{callBids:i,resetBids:p}};e.exports=u},function(e,i,t){function n(e){function i(){switch(n){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}var t=r.getUniqueIdentifierStr(),n=e||0;this.bidderCode="",this.code="",this.width=0,this.height=0,this.statusMessage=i(),this.adId=t,this.targeting="",this.timeToRespond=0,this.enc=r.enc(0),this.getStatusCode=function(){return n},this.getSize=function(){return this.width+"x"+this.height},this.getSizeCode=function(){return d.SIZE_MAPPER[this.getSize()]||0},this.getRepr=function(){var e=this.enc;return e!==r.enc(0)&&1===n?this.bidderCode+"|"+this.getSizeCode()+"|"+e:this.bidderCode+"|"+this.getSizeCode()},this.getPerf=function(){return{n:this.bidderCode,t:this.timeToRespond}}}var r=t(2),o=t(5),d=t(1),a=o.getLogger("bidfactory");i.createBid=function(e){return a.debug("bidfactory : "," createBid :: ","creating empty bid with status code ",e),new n(e)}},function(e,i){i.loadScript=function(e,i){var t=document.createElement("script");t.type="text/javascript",t.async=!0,i&&"function"==typeof i&&(t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,i())}:t.onload=function(){i()}),t.src=e;var n=document.getElementsByTagName("head");n=n.length?n:document.getElementsByTagName("body"),n.length&&(n=n[0],n.insertBefore(t,n.firstChild))},i.trackPixel=function(e){var i,t;if(e&&"string"==typeof e)return i=e.indexOf("?")>0?"&":"?",t=e+i+"rnd="+Math.floor(1e7*Math.random()),(new Image).src=t,t},i.loadAsyncScript=function(e){var i,t,n=document.createElement("script"),r=document.getElementsByTagName("script")[0];n.async=!0;for(i in e)e.hasOwnProperty(i)&&("onload"==i?t=e[i]:n[i]=e[i]);t&&"function"==typeof t&&(n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()}),r.parentNode.insertBefore(n,r)}},function(e,i,t){var n=t(1),r=t(2),o=t(11),d=t(3),a=t(12),s=t(4),c=s.getLogger("rubicon"),l="object",u="string",p=function(e){function i(){function e(e,i,t){var a=e.getElementId(),s=e.getSlotName(),u=e.getAdServerTargeting()||[];2==u.length&&typeof u==l?r._each(u,function(e,i,t){e.key==v.tiers&&r._each(e.values,function(e,i,t){var r=y.exec(e);r&&3===r.length?(d.addBidResponse(a,function(){var e=w[r[1]]||"0x0",i=o.createBid(1);i.bidderCode=b,i.code=s;try{i.cpm=parseFloat(parseInt(h.exec(r[2]).pop())/100)}catch(t){i.cpm=0,c.error(n.L.U,r[2])}return i.width=e.split("x")[0],i.height=e.split("x")[1],i.placement=a,i.sizeID=r[1],i.targeting=x,i}()),c.info(n.L.A)):(d.addBidResponse(a,function(){var e=o.createBid(2);return e.bidderCode=b,e.code=s,e.width=0,e.height=0,e.placement=a,e.targeting=x,e}()),c.info(n.L.A))})}):typeof u==l&&(d.addBidResponse(a,function(){var e=o.createBid(2);return e.bidderCode=b,e.code=s,e.width=0,e.height=0,e.placement=a,e.targeting=x,e}()),c.info(n.L.A)),d.bidResponseComplete(a,b)}rubicontag.cmd.push(function(){rubicontag.run(function(){c.info(n.L.C,{slots:window.rubicontag.getAllSlots()}),r._each(window.rubicontag.getAllSlots(),e)},{slots:window.rb_s||[]})})}function t(e){c.info(n.L.B,{bids:e.bids||[]});var t=e.bids;g=r.replaceTokenInString(_.scriptUrl,_,"%%"),f=_.accountID,v.tiers=r.replaceTokenInString(v.tiers,_,"%%"),b=e.bidderCode,r._each(t,function(e,i,t){!function(e){rubicontag.cmd.push(function(){c.info("rubicontag.cmd.push",{bid:e,index:i,rp_ad_slots:I});var t=rubicontag.defineSlot(e.code,e.sizes,e.placement);e.targeting&&typeof e.targeting===l&&r._each(e.targeting,function(e,i,n){var r=typeof e===u?[e]:e;t.setFPI(i,[r]),i===m.POS&&t.setPosition(r),i===m.KW&&t.addKW(e),c.debug("rubicontag.cmd.push ::: setting Position and FPI  ",{targeting:e,index:i,rp_ad_slots:I})}),t.setFPI("API",m.API),window.rb_s.push(t)})}(e)}),i(),g.indexOf("%")===-1&&(c.info(n.L.B,{bidderCode:b,scriptUrl:g}),a.loadAsyncScript({src:g,onload:function(){B=!0}}))}function s(){c.info(n.L.R),window.rb_s=[]}function p(e){c.info("rubicon : "," _setFirstPartySegments :::",e),rubicontag.cmd.push(function(){r._each(e,function(e,i,t){e=typeof e===u?[e]:e,c.debug("rubicon : "," _setFirstPartySegments ::: setting FPV value",{key:i,value:e}),rubicontag.setFPV(i,e)})})}c.info(n.L.I);var g,f,b,h=new RegExp(/tier(.*)/),m={POS:"pos",KW:"kw",API:"FASTLANE"},_=e||{},y=/([^_]*)_(.*)/,v={tiers:"rpfl_%%ACCOUNTID%%",element:"rpfl_elemid"},w={1:"468x60",2:"728x90",3:"234x60",4:"88x31",5:"120x90",6:"120x60",7:"125x125",8:"120x600",9:"160x600",10:"300x600",11:"180x150",12:"120x240",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",18:"180x150",19:"300x100",20:"0x0",21:"468x728",22:"120x160",23:"120x90",24:"160x90",25:"180x90",26:"200x90",27:"468x15",28:"728x15",29:"300x850",30:"0x0",31:"980x120",32:"250x360",33:"180x500",34:"580x400",35:"980x150",36:"140x350",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",45:"480x75",46:"480x60",47:"240x37",48:"300x300",49:"336x260",50:"1024x90"},x="%%SIZE%%|%%SIZEID%%|%%PLACEMENT%%",B=!1,I={};return window.rubicontag=window.rubicontag||{},window.rubicontag.cmd=window.rubicontag.cmd||[],window.rb_s=window.rb_s||[],{callBids:t,resetBids:s,setFirstPartySegments:p}};e.exports=p},function(e,i,t){var n=(t(1),t(2)),r=t(11),o=t(3),d=t(12),a=t(4),s=a.getLogger("openx"),c=function(e){function i(e){s.info("openx : "," _callBids ::: called ",{bids:e.bids||[]}),l=e.bids||[],u=e.bidderCode,p=g.adUnits["default"];for(var i=0;i<l.length;i++){var r=l[i],o=[];if(r.code){for(var d in g.adUnits)g.adUnits.hasOwnProperty(d)&&r.code.indexOf(d)!=-1&&(g.oxIdentifier=g.adUnits[d]);g.oxIdentifier||(g.oxIdentifier=p)}s.info("chooseing script oxIdentifer as ",g.oxIdentifier),o.push(r.code),o.push(n.parseSizesInput(r.sizes)),o.push(r.placement),o.push(r.targeting),f.push(o),b[r.placement]=r.code}t()}function t(){window.OX_dfp_ads=f,window.OX_dfp_options={callback:_},c=n.replaceTokenInString(g.scriptUrl,g,"%%"),s.info("openx : "," _callBids :::"," calling ",u," using url",c,"using parameters",{OX_dfp_ads:window.OX_dfp_ads,OX_dfp_options:window.OX_dfp_options}),d.loadAsyncScript({src:c,onload:function(){h=!0}})}function a(){s.info("openx : "," _resetBids ::: called "),f=[],window.OX=void 0}s.info("openx : "," OpenxAdapter Initialized");var c,l,u,p,g=e||{},f=[],b={},h=!1,m="%%SIZE%%",_=function(){var e=OX.dfp_bidder.getPriceMap()||{};s.info("openx : "," callback ::: called ",{getPriceMap:e,ox_mapper:b});for(var i in e){var t=e[i];if(t.price&&!isNaN(parseFloat(t.price))&&parseFloat(t.price)>0){var n=r.createBid(1);n.code=b[i],n.bidderCode=u,n.cpm=t.price/100,n.width=t.size.split("x")[0],n.height=t.size.split("x")[1],n.targeting=m,o.addBidResponse(i,n)}else{var n=r.createBid(2);n.code=b[i],n.bidderCode=u,n.width=t.size.split("x")[0],n.height=t.size.split("x")[1],n.targeting=m,o.addBidResponse(i,n)}o.bidResponseComplete(i,u)}};return{callBids:i,resetBids:a}};e.exports=c},function(e,i,t){var n=(t(1),t(2)),r=t(11),o=t(3),d=t(12),a=t(4),s=a.getLogger("pubmatic"),c="undefined",l="string",u="object",p=function(e){function i(e){s.info("pubmatic : "," _callBids ::: called "),a=e.bids||[],p=e.bidderCode,f=e.params&&e.params.publisherId||b.accountID,g=b.scriptUrl,s.debug("pubmatic : "," _callBids ::: ",{bids:a,bidderCode:p,_pm_pub_id:f}),n._each(a,function(e,i,t){_[e.placement]=[],n._each(n.parseSizesInput(e.sizes),function(t,n,r){e.mcode=e.code.split("/").slice(0,3).join("/"),typeof e.targeting===u&&typeof e.targeting.pos===l?e.pub_id=e.mcode+"-"+t+"-"+e.targeting.pos+"@"+t:e.pub_id=e.mcode+"-"+t+"-"+i+"@"+t,e.pub_size=t;var o=JSON.parse(JSON.stringify(e));_[e.placement].push(o),m.push(o.pub_id),s.debug("pubmatic : ","_callBids ::: "," expanding slots by singularizing the size",{slot:e,_pm_optimize_adslots:m,_expanded_slots_map:_})})}),window.pm_pub_id=f||window.pm_pub_id,window.pm_async_callback_fn="iacjs.handlePubmaticCallback",iacjs.handlePubmaticCallback=function(){function e(e){var i=["bidstatus","bid","bidid","wdeal"];try{return n._each(i,function(i,t,n){if(e&&!e.hasOwnProperty(i))return!1}),!0}catch(t){return s.warn("pubmatic : "," hasValidBid ::: "," errored out",t),!1}}var i=function(e){var i,t={};if(e){var r=!1;if(i=e.split(";"),n._each(i,function(e,n,o){var d=e.split("=");2==d.length?t[d[0]]=d[1]:(s.warn("unknown format of bid",i),s.info("Initiating fallback processing",i),r=!0)}),r)for(;i.length>0;){var o=i.splice(0,2);t[o[0]]=o[1]}}return s.debug("pubmatic : "," handlePubmaticCallback._processPubMaticProgMap ::: "," processing bid ",{request:e,response:t}),t};s.info("pubmatic : "," callback ::: called ",{progKeyValueMap:progKeyValueMap,bidDetailsMap:bidDetailsMap});var t=window.progKeyValueMap;n._each(_,function(d,a,c){s.debug("pubmatic : "," handlePubmaticCallback ::: "," finishing slots",{slotArr:d,slot_id:a}),n._each(d,function(n,d,a){var c,l=i(t[n.pub_id]),u=e(l);e(l)||s.warn("pubmatic : "," handlePubmaticCallback ::: "," Pubmatic not returning valid bids",{pubmaticBidMap:l}),u&&1==l.bidstatus&&!isNaN(parseInt(l.bid))&&parseInt(l.bid)>0?(c=r.createBid(1),c.bidderCode=p,c.cpm=parseFloat(l.bid)*h,c.code=n.code,c.bidid=l.bidid,c.width=n.pub_size.split("x")[0],c.height=n.pub_size.split("x")[1],c.targeting=y,s.debug("pubmatic : "," handlePubmaticCallback ::: "," adding bid to bid manager",c),o.addBidResponse(n.placement,c)):u?(c=r.createBid(2),c.bidderCode=p,c.cpm=parseFloat(l.bid),c.code=n.code,c.bidid=l.bidid,c.width=n.pub_size.split("x")[0],c.height=n.pub_size.split("x")[1],c.targeting=y,s.debug("pubmatic : "," handlePubmaticCallback ::: "," adding bid to bid manager",c),o.addBidResponse(n.placement,c)):(c=r.createBid(2),c.bidderCode=p,c.code=n.code,c.width=n.pub_size.split("x")[0],c.height=n.pub_size.split("x")[1],c.targeting=y,s.debug("pubmatic : "," handlePubmaticCallback ::: "," adding bid to bid manager",c),o.addBidResponse(n.placement,c))}),o.bidResponseComplete(a,p)})},s.info("pubmatic : "," _callBids :::"," calling ",p," using url",g,"using parameters",{pm_optimize_adslots:window.pm_optimize_adslots,pm_pub_id:window.pm_pub_id,pm_async_callback_fn:window.pm_async_callback_fn}),d.loadAsyncScript({src:g})}function t(){s.info("pubmatic : "," _resetBids ::: called "),m=[],_={},window.pm_optimize_adslots=m}s.info("pubmatic : "," PubmaticAdapter Initialized");var a,p,g,f,b=e||{},h=.83,m=[],_={},y="%%SIZE%%|%%BIDID%%";return window.pm_optimize_adslots=m,window.pm_pub_id=c,window.pm_async_callback_fn=c,{callBids:i,resetBids:t}};e.exports=p},function(e,i,t){var n=t(1),r=t(2),o=t(11),d=t(3),a=t(12),s=t(4),c=s.getLogger("index"),l="function",u="undefined",p="object",g="string",f=function(e){function i(){r._each(h,function(e,i,t){w[e.placement]={},r._each(r.parseSizesInput(e.sizes),function(t,r,o){var d,a=i+""+r,l=new s(a);typeof e.params===p&&typeof e.params.placementSiteId!==u&&(d=e.params.placementSiteId,c.debug("siteIDSlotLevel",{siteIDSlotLevel:d,slot:e})),l.setSize(t),l.code=e.code,l.slot_index=r,v[a]={placement:e.placement,index_slot:l},w[e.placement][a]=l,cygnus_index_args.slots.push(l.getCygnusRepr(d)),c.debug("index_slot",JSON.stringify(v[a]),JSON.stringify(w[e.placement][a])),c.debug(n.L.E,l)})}),c.info(n.L.E,{_expanded_slots_map:v,_expanded_placement_map:w}),a.loadAsyncScript({src:f()})}function t(e){c.info(n.L.B,e),h=e.bids||[],m=e.bidderCode,cygnus_index_args.siteID=_=y.siteID,cygnus_index_args.embedMode=y.embedMode,cygnus_index_args.timeout=y.timeout,window.cygnus_index_primary_request=!0,cygnus_index_args.callback=function(e,i){var t={};r._each(i,function(e,i,r){var o=e.slotID,d=v[o];if(typeof o===g&&typeof d===p){t[o]=t[o]||[];var a=e.priceLevel&&0===e.priceLevel.indexOf("_")?e.priceLevel:"_0";try{a=a.split("_").pop(),e.cpm=parseFloat(parseInt(a)/100)}catch(s){c.error(n.L.U,"priceLevel error setting price to 0",{bid:e}),e.cpm=0}e.placement=d.placement,e.code=d.index_slot.code,e.height=d.index_slot.height,e.width=d.index_slot.width,t[o].push(e)}else c.error("error processing bid",e,"missing or un configured slotID")}),c.info("cygnus_index_args.callback",{node_id:e,names:i,names_slot_map:t,_expanded_slots_map:v,_expanded_placement_map:w}),r._each(w,function(e,i,a){r._each(e,function(e,a,s){var l=t[e.id];c.debug("index","normalizing bids",{slot:e,names_slot:l}),r._each(l,function(e,t,r){var a;typeof l===p?(a=o.createBid(1),a.bidderCode=m,a.cpm=e.cpm,a.impressionID=e.impressionID,a.priceLevel=e.priceLevel,a.slotID=e.slotID,a.code=e.code,a.width=e.width,a.height=e.height,a.target=e.target,c.debug("index","adding bid to bid manager",{placement:i,bid_response:a,names_slot:l}),a.targeting=x,d.addBidResponse(i,a),c.info(n.L.A,a)):(a=o.createBid(2),a.bidderCode=m,a.cpm=0,a.code=e.code,a.width=e.width,a.height=e.height,c.debug("index","bid not found",{placement:i,bid_response:a,names_slot:l}),a.targeting=x,d.addBidResponse(i,a),c.info(n.L.A,a))})}),c.info(n.L.RC,i,m),d.bidResponseComplete(i,m)})},i()}function s(e){this.id=e,this.width=0,this.height=0,this.slot_index=void 0,this.code=void 0,this.siteID=_,this.setSize=function(e){var i=e.split("x");this.width=parseInt(i[0]),this.height=parseInt(i[1])},this.getCygnusRepr=function(e){return{id:this.id,width:this.width,height:this.height,siteID:e||this.siteID}}}function f(){function e(e){var i=r[e];return"string"==typeof i?i:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}function i(i){return n.lastIndex=0,n.test(i)?i.replace(n,e):i}function t(e,i,t){if(this.initialized=!1,"number"!=typeof e||e%1!==0||e<0)throw"Invalid Site ID";if("number"==typeof t&&t%1==0&&t>=0&&(this.timeoutDelay=t),this.siteID=e,this.impressions=[],this._parseFnName=void 0,top===self?(this.sitePage=location.href,this.topframe=1):(this.sitePage=document.referrer,this.topframe=0),"undefined"!=typeof i){if("function"!=typeof i)throw"Invalid jsonp target function";this._parseFnName="cygnus_index_args.parseFn"}"undefined"==typeof _IndexRequestData.requestCounter?_IndexRequestData.requestCounter=Math.floor(256*Math.random()):_IndexRequestData.requestCounter=(_IndexRequestData.requestCounter+1)%256,this.requestID=String((new Date).getTime()%2592e3*256+_IndexRequestData.requestCounter+256),this.initialized=!0}var n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};t.prototype.serialize=function(){var e='{"id":'+this.requestID+',"site":{"page":"'+i(this.sitePage)+'"';"string"==typeof document.referrer&&(e+=',"ref":"'+i(document.referrer)+'"'),e+='},"imp":[';for(var t=0;t<this.impressions.length;t++){var n=this.impressions[t],r=[];e+='{"id":"'+n.id+'", "banner":{"w":'+n.w+',"h":'+n.h+',"topframe":'+String(this.topframe)+"}","number"==typeof n.bidfloor&&(e+=',"bidfloor":'+n.bidfloor,"string"==typeof n.bidfloorcur&&(e+=',"bidfloorcur":"'+i(n.bidfloorcur)+'"')),"string"!=typeof n.slotID||n.slotID.match(/^\s*$/)||r.push('"sid":"'+i(n.slotID)+'"'),"number"==typeof n.siteID&&r.push('"siteID":'+n.siteID),r.length>0&&(e+=',"ext": {'+r.join()+"}"),e+=t+1==this.impressions.length?"}":"},"}return e+="]}"},t.prototype.setPageOverride=function(e){return"string"==typeof e&&!e.match(/^\s*$/)&&(this.sitePage=e,!0)},t.prototype.addImpression=function(e,i,t,n,r,o){var d={id:String(this.impressions.length+1)};if("number"!=typeof e||e<=1)return null;if("number"!=typeof i||i<=1)return null;if(("string"==typeof r||"number"==typeof r)&&String(r).length<=50&&(d.slotID=String(r)),d.w=e,d.h=i,void 0!=t&&"number"!=typeof t)return null;if("number"==typeof t){if(t<0)return null;if(d.bidfloor=t,void 0!=n&&"string"!=typeof n)return null;d.bidfloorcur=n}if("undefined"!=typeof o){if(!("number"==typeof o&&o%1===0&&o>=0))return null;d.siteID=o}return this.impressions.push(d),d.id},t.prototype.buildRequest=function(){if(0!=this.impressions.length&&this.initialized===!0){var e=encodeURIComponent(this.serialize()),i="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";return i+="/headertag?v=9&fn=iacjs.handleIndexCallback&s="+this.siteID+"&r="+e,"number"==typeof this.timeoutDelay&&this.timeoutDelay%1==0&&this.timeoutDelay>=0&&(i+="&t="+this.timeoutDelay),i}};try{if("undefined"==typeof cygnus_index_args||"undefined"==typeof cygnus_index_args.siteID||"undefined"==typeof cygnus_index_args.slots)return;"undefined"==typeof _IndexRequestData&&(_IndexRequestData={},_IndexRequestData.impIDToSlotID={},_IndexRequestData.reqOptions={});var o=new t(cygnus_index_args.siteID,cygnus_index_args.parseFn,cygnus_index_args.timeout);cygnus_index_args.url&&"string"==typeof cygnus_index_args.url&&o.setPageOverride(cygnus_index_args.url),_IndexRequestData.impIDToSlotID[o.requestID]={},_IndexRequestData.reqOptions[o.requestID]={};for(var d,a,s=0;s<cygnus_index_args.slots.length;s++)d=cygnus_index_args.slots[s],a=o.addImpression(d.width,d.height,d.bidfloor,d.bidfloorcur,d.id,d.siteID),a&&(_IndexRequestData.impIDToSlotID[o.requestID][a]=String(d.id));return"number"==typeof cygnus_index_args.targetMode&&(_IndexRequestData.reqOptions[o.requestID].targetMode=cygnus_index_args.targetMode),"function"==typeof cygnus_index_args.callback&&(_IndexRequestData.reqOptions[o.requestID].callback=cygnus_index_args.callback),o.buildRequest()}catch(l){c.error("index : "," cygnus_index_start ",l)}}function b(){v={},w={},window.cygnus_index_args.slots=[]}c.info(n.L.I);var h,m,_,y=e||{},v={},w={},x="%%SIZE%%|%%SLOTID%%|%%SLOTID%%%%PRICELEVEL%%";return window.cygnus_index_args=window.cygnus_index_args||{},window.cygnus_index_args.slots=window.cygnus_index_args.slots||[],iacjs.handleIndexCallback=function(e){c.debug("index : "," iacjs.handleIndexCallback ::: ",e,r._clone(_IndexRequestData)),e&&typeof cygnus_index_parse_res===l&&cygnus_index_parse_res(e)},{callBids:t,resetBids:b}};e.exports=f},function(e,i,t){var n=(t(1),t(2)),r=t(11),o=t(3),d=(t(12),t(4)),a=t(18),s=d.getLogger("inhouse"),c=function(e){function i(e){c=e.bids||[],d=e.bidderCode,s.info({bids:c}),n._each(c,function(e,i,t){l[e.placement]=[],n._each(n.parseSizesInput(e.sizes),function(t,n,r){e.pub_id=e.code+"@"+t+":"+i,e.pub_size=t;var o=JSON.parse(JSON.stringify(e));l[e.placement].push(o)})}),n._each(l,function(e,i,t){s.debug({slotArr:e,slot_id:i}),n._each(e,function(e,i,t){var n;n=r.createBid(1),n.bidderCode=d,n.cpm=a.getPrice(e),n.code=e.code,n.width=e.pub_size.split("x")[0],n.height=e.pub_size.split("x")[1],n.targeting=u,o.addBidResponse(e.placement,n)}),o.bidResponseComplete(i,d)})}function t(){l={},s.info("_resetBids ::: called ")}s.info("InHouseAdapter : "," InHouseAdapter Initialized");var d,c,l={},u="%%SIZE%%";return{callBids:i,resetBids:t}};e.exports=c},function(e,i,t){var n=t(4),r=n.getLogger("pricer"),o=t(7),d=function(e){return r.info(e),o.yieldConfig.inhouse_bid_floor};i.getPrice=d},function(e,i,t){var n=t(2),r=t(11),o=t(3),d=t(12),a=t(4),s=a.getLogger("aol"),c="string",l="object",u=function(e){function i(e){s.info("aol : "," _callBids ::: called "),a=e.bids||[],u=e.bidderCode,p=b.scriptUrl,g=b.bidRequestConfig,f=b.bidfloor||.1,g.onBidResponse=function(e){var i=n._indexOf(m[e.adContainerId],e.alias);if(i!=-1&&m[e.adContainerId].splice(i,1),e.success){var t=r.createBid(1);t.bidderCode=u,t.cpm=e.cpm,t.code=_[e.alias].code,t.width=_[e.alias].size.split("x")[0],t.height=_[e.alias].size.split("x")[1],t.targeting=y,t.bidid=e.alias,o.addBidResponse(e.adContainerId,t)}else{var t=r.createBid(2);t.bidderCode=u,t.code=_[e.alias].code,t.width=_[e.alias].size.split("x")[0],t.height=_[e.alias].size.split("x")[1],t.targeting=y,t.bidid=e.alias,o.addBidResponse(e.adContainerId,t)}0===m[e.adContainerId].length&&o.bidResponseComplete(e.adContainerId,u)},g.onAllBidsResponses=function(){s.info("aol : ","all bid responses received")},window.bidRequestConfig=g,s.debug("aol : "," _callBids ::: ",{bids:a,bidderCode:u,scriptUrl:p}),n._each(a,function(e,i,t){m[e.placement]=[],n._each(n.parseSizesInput(e.sizes),function(i,t,n){e.mcode=e.code.split("/").slice(2,3).join("/"),typeof e.targeting===l&&typeof e.targeting.pos===c?e.pub_id=e.mcode+"-"+i+"-"+e.targeting.pos:e.pub_id=e.mcode+"-"+i+"-backup",e.pub_size=i;var r=JSON.parse(JSON.stringify(e));_[e.pub_id]={code:r.code,size:i},h.push({alias:r.pub_id,adContainerId:r.placement,bidfloor:f}),m[e.placement].push(r.pub_id)})}),window._aol_bid_response_status=m,window.dacBidRequestConfigs=h,d.loadAsyncScript({src:p,onload:function(){for(var e=0;e<window.dacBidRequestConfigs.length;e++)ADTECH.loadPubAd(window.dacBidRequestConfigs[e].alias)}})}function t(){window.dacBidRequestConfigs=[],h=[],s.info("aol : "," _resetBids ::: called ")}s.info("aol : "," AOLAdapter Initialized");var a,u,p,g,f,b=e||{},h=[],m={},_={},y="%%BIDID%%";return{callBids:i,resetBids:t}};e.exports=u},function(e,i,t){var n=t(12),r=t(11),o=t(3),d=t(2),a=t(1),s=t(4),c=s.getLogger("yieldbot"),l=function(e){function i(){ybotq.push(function(){c.info({psn:f}),yieldbot.pub(f)}),d._each(u,function(e){var i=e.code.split("/");if(i.length<3)c.error("check if the adunit is in the format /networkcode/adunit/");else{var t={},n=e.code.split("/").splice(2).slice(0,1).toString(),r=d.inferSlotSize(e.sizes),o=e.targeting?e.targeting.pos||a.UNKNOWN:a.UNKNOWN,s=n.replace(/\./g,"_");t.name=s+"-"+r+"-"+o,t.sizes=e.sizes,t.slotSize=r,t.placement=e.placement,t.bid=e,y[t.name]=t,function(e){ybotq.push(function(){yieldbot.defineSlot(e.name,{sizes:e.sizes})})}(t)}}),ybotq.push(function(){yieldbot.enableAsync(),yieldbot.go()}),ybotq.push(function(){c.info({ybresp:yieldbot.getPageCriteria()});var e=function(e){var i=[];try{var t=e.split(",");d._each(t,function(t){var n=t.split(":");if(3===n.length){var r=n.shift(),o=n.shift(),d=n.shift();i[r]=i[r]||[];var a=parseFloat(d)/100||0;isNaN(a)?i[r].push(new b(r,o,0,"direct",d)):i[r].push(new b(r,o,a,"open"))}else e.length<=0?c.info("empty bid response"):c.warn("non conformation bids",{slots_det:n,val:t})})}catch(n){c.error(n)}return i}(yieldbot.getPageCriteria());d._each(y,function(i,t){"undefined"==typeof e[t]?o.addBidResponse(i.placement,function(){var e=r.createBid(2);return e.bidderCode=p,e.code=i.bid.code,e.cpm=0,e.width=i.slotSize.split("x")[0],e.height=i.slotSize.split("x")[1],e.placement=i.placement,e.targeting=_,c.info("Adding bid to bid manager",{bid:e}),e}()):d._each(e[t],function(e){o.addBidResponse(i.placement,function(){var t=e.slotsize,n="open"===e.type&&0!==e.price||"direct"===e.type?1:2,o=r.createBid(n);return o.bidderCode=p,o.code=i.bid.code,o.cpm=e.price,o.width=t.split("x")[0],o.height=t.split("x")[1],o.placement=i.placement,o.ybs=e.getYBSlotName(),o.targeting=_,"direct"===e.type&&(o.targeting=_),c.info("Adding bid to bid manager",{bid:o}),o}())}),c.info("Bid Response Complete",{placement:i.placement,bidderCode:p}),o.bidResponseComplete(i.placement,p)})}),n.loadAsyncScript({src:l,onload:function(){m=!0}})}function t(e){u=e.bids||[],p=e.bidderCode,l=h.scriptUrl,g=h.psn["default"],c.info({bids:u,bidderCode:p,scriptUrl:l});for(var t=0;t<u.length;t++){var n=u[t];if(!f&&n.code){for(var r in h.psn)h.psn.hasOwnProperty(r)&&n.code.indexOf(r)!==-1&&(f=h.psn[r]);f||(f=g)}}c.info({psn:f}),i()}function s(){y={},window.ybotq=[],window.yieldbot={}}var l,u,p,g,f,b,h=e||{},m=!1,_="%%SIZE%%|%%YBS%%",y={};return b=function(e,i,t,n,r){this.ybslot=e,this.price=t||0,this.slotsize=i,this.type=n,this.directtargeting=r,this.getYBSlotName=function(){return this.ybslot+":"+this.slotsize}},window.ybotq=window.ybotq||[],{callBids:t,resetBids:s}};e.exports=l},function(e,i,t){var n=t(22),r=t(5),o=(t(2),r.getLogger("peripheralscriptmanager")),d="function",a="string",s={};i._callScripts=function(e){for(var i=0;i<e.length;i++){var t=e[i];if(t.code&&s[t.code]){var n=s[t.code];try{n._loadScript(t)}catch(r){o.error(r)}}else o.error("script code not defined",{peripheralScriptArr:e,_scriptRegistry:s,code:t.code})}},i.getExternalScriptsById=function(e){return e?s[e]||[]:s},i.registerExternalScript=function(e,i){try{if(!e||!i)throw"peripheralscriptmanager ::: registerExternalScript :: script of script code missing";if(typeof e._loadScript!=d||typeof i!==a)throw"peripheralscriptmanager ::: registerExternalScript :: script of script code missing";o.info("peripheralscriptmanager ::: registerExternalScript :: registering",{scriptCode:i,script:e}),s[i]=e}catch(t){o.error(t)}};var c={url:"//ad.crwdcntrl.net/5/c=%%LOTAMEID%%/pe=y/var=ccauds"};this.registerExternalScript(n(c),"lotame")},function(e,i,t){var n=t(12),r=t(2),o=t(5),d=t(8),a="function",s=o.getLogger("lotame"),c=function(e){function i(e){var i=e&&e.config||[];if(t=r.replaceTokenInString(o.url,i,"%%"),s.info("Lotame : _callAdapter : calling with opts",{url:t}),t.indexOf("%%")!==-1)throw"Lotame ID replacement error :: Check configuration";n.loadAsyncScript({src:t,onload:function(){var e;if(window.lotame=window.lotame||{},window.lotame.segments=window.lotame.segments||[],"undefined"!=typeof ccauds&&ccauds.Profile){window.lotame.lpid="undefined"!=typeof ccauds.Profile.pid?ccauds.Profile.pid:"",window.lotame.ltpid="undefined"!=typeof ccauds.Profile.tpid?ccauds.Profile.tpid:"";var i,t=(ccauds.Profile.Audiences||{}).Audience||[];for(i=0;i<t.length;i++)window.lotame.segments.push(t[i].abbr);s.info("Lotame : _callAdapter.loadAsyncScript : loading Lotame script",lotame)}e=d.getBidRegistry()||{},r._each(e,function(e,i,t){typeof e.setFirstPartySegments===a&&(s.info("Lotame : bidder.setLotameSegments : for bidder",i,lotame),e.setFirstPartySegments.call(this,lotame))}),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){s.info("Lotame : window.googletag.cmd.push : setting lotame Segments",lotame),googletag.pubads().setTargeting("lpid",lotame.lpid).setTargeting("ltpid",lotame.ltpid).setTargeting("lseg",lotame.segments)})}})}s.info("Lotame : LotameAdapter Initialized");var t,o=e||{};return{_loadScript:i}};e.exports=c},function(e,i,t){var n=t(2),r=t(4),o=r.getLogger("reshelper"),d=function(e,i){if(n.isStr(e))return n.isStr(i)&&1==i.length?e.indexOf(i,0):-1;for(var t=0;t<e.length;t++)if(t in e&&e[t]===i)return t;return-1},a=function(e,i){return 0<=d(e,i)},s=function(e,i){return e>i?1:e<i?-1:0},c=function(e,i){var t;e:{t=i[0];for(var n=e[0],r=s,o=Math.min(t.length,n.length),d=0;d<o;d++){var a=r(t[d],n[d]);if(0!=a){t=a;break e}}t=s(t.length,n.length)}return t},l=function(e,i){e.sort(i||s)},u=function(e){for(var i=c,t=0;t<e.length;t++)e[t]={index:t,value:e[t]};var n=i||s;for(l(e,function(e,i){return n(e.value,i.value)||e.index-i.index}),t=0;t<e.length;t++)e[t]=e[t].value},p=function(e){var i=n.isArray(e)&&2==e.length&&n.isNumber(e[0])&&n.isNumber(e[1]);return e=n.isStr(e)&&"fluid"==e,i||e},g=function(){this.j=[],this.m=!1};g.prototype.addSize=function(e,i){try{var t;if(!(t=!p(e)||"fluid"==e)){var r;if(!(r=p(i))){var d;if(!n.isArray(i)||n.isArray(i)&&a(i,"fluid"))d=!1;else e:{for(var s=i.length,c=n.isStr(i)?i.split(""):i,l=0;l<s;l++)if(l in c&&!p.call(void 0,c[l])){d=!1;break e}d=!0}r=d}t=!r}return t?(this.m=!0,this):(this.j.push([e,i]),this)}catch(u){o.error(u)}},g.prototype.build=function(){try{return u(this.j),this.j}catch(e){o.error(e)}};var f=function(e,i){this.height=i,this.width=e},b=f.prototype;b.clone=function(){return new f(this.width,this.height)},b.wa=function(){return this.width*this.height},b.isEmpty=function(){return!this.wa()},b.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},b.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},b.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var h=function(e,i){this.vec=e,this.sizes=i};h.prototype.clone=function(){return new h(this.vec,this.sizes)};var m=function(e){return e},_=function(e){if(!n.isArray(e)||2!=e.length)throw Error("Each mapping entry has to be an array of size 2");var i;if(i=e[0],!p(i)||"fluid"==i)throw Error("Size has to be an array of two non-negative integers");i=new f(i[0],i[1]);var t;if(n.isArray(e[1])&&0==e[1].length)t=[];else{if(t=m(e[1]),n.isArray(e[1])&&1<e[1].length&&a(e[1],"fluid"))throw Error("Fluid sizing cannot be applied to multisize slots");if(0==t.length)throw Error("At least one slot size must be present")}return new h(i,t)},y=function(e,i,t){for(var r=e.length,o=Array(r),d=n.isStr(e)?e.split(""):e,a=0;a<r;a++)a in d&&(o[a]=i.call(t,d[a],a,e));return o},v=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return new f(e,i)},w=function(e){var i=v();for(var t in e){var n=e[t],r=n.vec;if(o.info(i,r,r.height<=i.height,r.width<=i.width),r.height<=i.height&&r.width<=i.width)return n.sizes}},x={sizeMapping:function(){return new g},defineSizeMapping:function(e,i){var t,r=i;try{if(!n.isArray(e))throw Error("Size mapping has to be an array");var d=y(e,_);t=w(d)}catch(a){o.error(a)}return t||r},getBoundingBox:v()};e.exports=x}]);